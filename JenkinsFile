pipeline {

  agent any
   
stages {
  stage('Build') {
      steps {
        bat 'mvn package'
      }
    }
       stage('Junit Test Case') {
      steps {
        bat 'mvn test'
      }
    }
    

         stage('SonarQube analysis') {
        withSonarQubeEnv('My SonarQube Server') {
            bat 'mvn clean package sonar:sonar'
    } // SonarQube taskId is automatically attached to the pipeline context
  }
